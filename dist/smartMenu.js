!function(a){a.fn.smartMenu=function(t){var e=a.extend({prependTo:a("body"),menuSelector:".smart-menu",hashSuffix:"",scrollSpeed:800,offset:80},t),s=this,n=[],o=e.menuSelector,h=e.hashSuffix,i=e.scrollSpeed,l=e.offset,r=e.prependTo;a(window).on("scroll",function(){n.length&&(a(document).scrollTop()-s.first().offset().top>0-l?a(o).hasClass("shown")||a(o).addClass("shown"):a(o).hasClass("shown")&&a(o).removeClass("shown"),s.each(function(t,e){if(a(document).scrollTop()-a(e).offset().top>-l){a(o).find("a").removeClass("active");var s=a(e).data("hash");a(o).find('a[href*="#'+s+'"]').addClass("active")}}),a(window).scrollTop()+a(window).height()===a(document).height()&&(a(o).find("a").removeClass("active"),a(o).find("a").last().addClass("active")))}),a(document).on("click",o+" a",function(t){var e=a(this)[0].hash;location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname&&(t.preventDefault(),a(document).trigger("hashpressed",[a(this)[0]]),c(e))}),a(window).on("load",function(){var t=location.hash;if(t.length){var e=t.substr(1);a("[data-hash="+e+"]").is(a("[data-hash]").first())||c()}});var c=function(t){var e=t||location.hash,s=e.slice(1);if(s.length&&s.substr(0,h.length)===h){var n=a("[data-hash="+s+"]");a("html, body").animate({scrollTop:n.offset().top-l+30},i,function(){location.hash=e})}};s.each(function(){var t={};t.hash=a(this).data("hash"),t.text=a(this).data("title"),n.push(t)});var d=function(t){if(t.length){var e='<div class="smart-menu"><div class="smart-wrapper"><div class="menu-centered"><ul class="menu">';a.each(t,function(a,t){var s=location.pathname+"#"+t.hash;e+='<li><a href="'+s+'">'+t.text+"</a></li>"}),e+="</ul></div></div></div>",a(r).prepend(e)}};return d(n)}}(jQuery);
//# sourceMappingURL=smartMenu.js.map
